---
title: KombiSim quickstart
description: Create your first infrastructure simulation in 2 minutes
---

# Quick start

Get KombiSim running and create your first infrastructure simulation in under 2 minutes.

## Prerequisites

<CardGroup cols={2}>
  <Card title="Docker" icon="docker">
    Docker Engine 24.0+
  </Card>
  <Card title="System resources" icon="microchip">
    2GB RAM, 5GB disk
  </Card>
</CardGroup>

## Installation

<Tabs>
  <Tab title="Docker Compose (Recommended)">
    ```bash
    # Clone repository
    git clone https://github.com/KombiverseLabs/KombiSim
    cd KombiSim
    
    # Start services
    docker compose up -d
    
    # Check status
    docker compose ps
    ```
    
    **Services started:**
    - KombiSim API on port 5270
    - KombiSim UI on port 5271
  </Tab>

  <Tab title="Docker (API only)">
    ```bash
    docker run -d \
      --name kombisim \
      -p 5270:5270 \
      -v /var/run/docker.sock:/var/run/docker.sock \
      -v kombisim-data:/app/data \
      ghcr.io/kombiverselabs/kombisim:latest
    ```
  </Tab>

  <Tab title="With KombiStack">
    ```bash
    # KombiSim is included in KombiStack docker-compose.yml
    cd KombiStack
    docker compose up -d
    
    # Access KombiSim
    open http://localhost:5270
    ```
  </Tab>
</Tabs>

## Verify installation

```bash
# Check API health
curl http://localhost:5270/api/v1/health

# List templates
curl http://localhost:5270/api/v1/templates

# Access Web UI
open http://localhost:5271
```

## Create your first simulation

<Steps>
  <Step title="Choose a template">
    Start with a pre-built template:
    
    ```bash
    # List available templates
    curl http://localhost:5270/api/v1/templates
    
    # Apply homelab-basic template (2 nodes)
    curl -X POST http://localhost:5270/api/v1/templates/homelab-basic/apply \
      -H "Content-Type: application/json" \
      -d '{
        "simulation_name": "my-first-simulation",
        "auto_start": true
      }'
    ```
    
    **Response:**
    ```json
    {
      "id": "sim_abc123",
      "name": "my-first-simulation",
      "status": "running",
      "nodes": [
        {
          "id": "node_1",
          "name": "web-server",
          "ssh_port": 2222,
          "status": "running"
        },
        {
          "id": "node_2",
          "name": "database",
          "ssh_port": 2223,
          "status": "running"
        }
      ]
    }
    ```
  </Step>

  <Step title="Get SSH details">
    ```bash
    # Get node SSH information
    curl http://localhost:5270/api/v1/nodes/node_1/ssh
    ```
    
    **Response:**
    ```json
    {
      "host": "localhost",
      "port": 2222,
      "user": "root",
      "password": "kombisim",
      "command": "ssh -p 2222 root@localhost"
    }
    ```
  </Step>

  <Step title="SSH into simulated node">
    ```bash
    # Connect to web-server node
    ssh -p 2222 root@localhost
    # Password: kombisim
    
    # You're now inside a simulated Ubuntu server!
    root@web-server:~# uname -a
    Linux web-server 5.15.0 #1 SMP x86_64 GNU/Linux
    
    root@web-server:~# docker ps
    CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
    
    # Install and test services
    root@web-server:~# apt-get update
    root@web-server:~# apt-get install -y nginx
    root@web-server:~# systemctl start nginx
    root@web-server:~# curl localhost
    ```
  </Step>

  <Step title="Test your configuration">
    Deploy services and validate:
    
    ```bash
    # On web-server node
    docker run -d --name web -p 80:80 nginx
    
    # On database node (SSH to port 2223)
    ssh -p 2223 root@localhost
    docker run -d --name db -e POSTGRES_PASSWORD=secret postgres
    
    # Test connectivity between nodes
    ping database  # Nodes can communicate via hostnames
    ```
  </Step>

  <Step title="Export configuration">
    Once validated, export for real deployment:
    
    ```bash
    # Export simulation to kombination.yaml
    curl http://localhost:5270/api/v1/simulations/sim_abc123/export \
      > kombination.yaml
    
    # Deploy to real hardware with KombiStack
    kombistack apply kombination.yaml
    ```
  </Step>
</Steps>

## Using the Web UI

<Steps>
  <Step title="Access dashboard">
    Open [http://localhost:5271](http://localhost:5271)
  </Step>

  <Step title="Create simulation">
    1. Click **New Simulation**
    2. Choose a template or create custom
    3. Configure nodes
    4. Click **Create & Start**
  </Step>

  <Step title="Manage nodes">
    - View node status (running, stopped, error)
    - Get SSH connection details
    - Start/stop individual nodes
    - View logs
  </Step>

  <Step title="Export configuration">
    Click **Export** to download `kombination.yaml` for KombiStack
  </Step>
</Steps>

## Quick examples

### Example 1: Simple web server

```bash
# Create simulation
curl -X POST http://localhost:5270/api/v1/simulations \
  -H "Content-Type: application/json" \
  -d '{
    "name": "web-test",
    "category": "homelab",
    "nodes": [
      {"name": "web-server", "location": "local"}
    ]
  }'

# Start simulation
curl -X POST http://localhost:5270/api/v1/simulations/{id}/start

# SSH and deploy
ssh -p 2222 root@localhost
docker run -d -p 80:80 nginx
curl localhost
```

### Example 2: Database cluster

```bash
# Apply HA template
curl -X POST http://localhost:5270/api/v1/templates/ha-setup/apply \
  -d '{"simulation_name": "db-cluster", "auto_start": true}'

# SSH to primary
ssh -p 2222 root@localhost
docker run -d --name postgres-primary \
  -e POSTGRES_PASSWORD=secret \
  -e POSTGRES_REPLICATION_MODE=master \
  postgres

# SSH to replica
ssh -p 2223 root@localhost
docker run -d --name postgres-replica \
  -e POSTGRES_PASSWORD=secret \
  -e POSTGRES_REPLICATION_MODE=slave \
  -e POSTGRES_MASTER_HOST=db-primary \
  postgres
```

### Example 3: Hybrid setup

```bash
# Create hybrid simulation (VPS + local)
curl -X POST http://localhost:5270/api/v1/templates/hybrid-setup/apply \
  -d '{"simulation_name": "hybrid-test", "auto_start": true}'

# Test VPS node (public services)
ssh -p 2222 root@localhost
docker run -d -p 80:80 traefik

# Test local node (private services)
ssh -p 2223 root@localhost
docker run -d nextcloud
```

## Integration with KombiStack

Enable automatic simulation before deployment:

```yaml
# kombistack.yaml
simulation:
  enabled: true
  endpoint: "http://localhost:5270"
  auto_validate: true
  timeout: 300s

validation:
  simulate_before_deploy: true
```

**Workflow:**
1. User creates `kombination.yaml`
2. KombiStack sends to KombiSim
3. KombiSim creates simulation
4. KombiStack deploys to simulation
5. Validation tests run
6. If successful, deploy to real hardware

## Common tasks

### List all simulations

```bash
curl http://localhost:5270/api/v1/simulations
```

### Get simulation details

```bash
curl http://localhost:5270/api/v1/simulations/{id}
```

### Stop simulation

```bash
curl -X POST http://localhost:5270/api/v1/simulations/{id}/stop
```

### Delete simulation

```bash
curl -X DELETE http://localhost:5270/api/v1/simulations/{id}
```

### List nodes in simulation

```bash
curl http://localhost:5270/api/v1/simulations/{id}/nodes
```

### Get node logs

```bash
curl http://localhost:5270/api/v1/nodes/{id}/logs
```

## Troubleshooting

<AccordionGroup>
  <Accordion title="Port conflicts">
    **Symptoms:** "Port already in use" when starting nodes
    
    **Solutions:**
    ```bash
    # Check what's using SSH ports
    lsof -i :2222-2322
    
    # Stop conflicting containers
    docker ps | grep 2222
    docker stop <container_id>
    
    # Or configure different port range
    # In docker-compose.yml
    environment:
      - SSH_PORT_START=3222
      - SSH_PORT_END=3322
    ```
  </Accordion>

  <Accordion title="Docker socket permission denied">
    **Symptoms:** "Permission denied" accessing Docker socket
    
    **Solutions:**
    ```bash
    # Linux: Add user to docker group
    sudo usermod -aG docker $USER
    newgrp docker
    
    # Or run with sudo
    sudo docker compose up -d
    ```
  </Accordion>

  <Accordion title="Nodes not starting">
    **Symptoms:** Nodes stuck in "starting" status
    
    **Solutions:**
    ```bash
    # Check Docker logs
    docker logs kombisim
    
    # Check node container logs
    docker ps -a | grep kombisim-node
    docker logs <node_container_id>
    
    # Restart KombiSim
    docker compose restart kombisim
    ```
  </Accordion>

  <Accordion title="SSH connection refused">
    **Symptoms:** Cannot SSH to simulated nodes
    
    **Solutions:**
    ```bash
    # Verify node is running
    curl http://localhost:5270/api/v1/nodes/{id}
    
    # Check SSH port mapping
    docker ps | grep kombisim-node
    
    # Test SSH connectivity
    nc -zv localhost 2222
    
    # Check SSH service in container
    docker exec <node_container_id> systemctl status ssh
    ```
  </Accordion>
</AccordionGroup>

## Next steps

<CardGroup cols={2}>
  <Card
    title="Explore templates"
    icon="file-code"
    href="/tools/kombisim/templates"
  >
    Browse all 6 pre-built templates
  </Card>
  <Card
    title="Installation guide"
    icon="download"
    href="/tools/kombisim/installation"
  >
    Advanced installation options
  </Card>
  <Card
    title="API reference"
    icon="code"
    href="/api/kombisim/overview"
  >
    Complete API documentation
  </Card>
  <Card
    title="KombiStack integration"
    icon="layer-group"
    href="/tools/kombistack/configuration"
  >
    Configure automatic simulation
  </Card>
</CardGroup>
