---
title: SSH Access
description: Connecting to simulated nodes via SSH
sidebarTitle: SSH Access
icon: terminal
---

# SSH Access

Every simulated node has full SSH access, just like a real server.

## Default Credentials

| Field | Value |
|-------|-------|
| **User** | `root` |
| **Password** | `kombisim` |
| **Port Range** | 2222-2322 |

## Connecting

### Find Your Node's Port

Each node gets a unique SSH port:

```bash
# List nodes with SSH ports
curl -s http://localhost:5270/api/v1/nodes | jq '.[] | {name, ssh_port}'
```

Output:
```json
{"name": "node-1", "ssh_port": 2222}
{"name": "node-2", "ssh_port": 2223}
{"name": "node-3", "ssh_port": 2224}
```

### Connect via SSH

```bash
ssh -p 2222 root@localhost
# Password: kombisim
```

### SSH Config (Recommended)

Add to `~/.ssh/config`:

```
Host sim-node-1
    HostName localhost
    Port 2222
    User root
    StrictHostKeyChecking no
    UserKnownHostsFile /dev/null

Host sim-node-2
    HostName localhost
    Port 2223
    User root
    StrictHostKeyChecking no
    UserKnownHostsFile /dev/null
```

Now connect with:
```bash
ssh sim-node-1
```

## SSH Keys

### Using Your Own Key

```bash
# Copy your key to the node
ssh-copy-id -p 2222 root@localhost

# Or manually
cat ~/.ssh/id_rsa.pub | ssh -p 2222 root@localhost \
  "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

### Pre-provisioning Keys

When creating a node, include your public key:

```bash
curl -X POST http://localhost:5270/api/v1/nodes \
  -H "Content-Type: application/json" \
  -d '{
    "name": "secure-node",
    "os": "ubuntu-22.04",
    "ssh_keys": ["ssh-rsa AAAA... your-key"]
  }'
```

## File Transfer

### SCP

```bash
# Upload
scp -P 2222 local-file.txt root@localhost:/tmp/

# Download
scp -P 2222 root@localhost:/var/log/syslog ./
```

### rsync

```bash
rsync -avz -e "ssh -p 2222" ./myapp/ root@localhost:/opt/myapp/
```

## Port Forwarding

Access services inside nodes:

```bash
# Forward node's port 80 to local 8080
ssh -p 2222 -L 8080:localhost:80 root@localhost
```

Now access `http://localhost:8080` to reach the node's web server.

## Troubleshooting

<AccordionGroup>
  <Accordion title="Connection refused">
    1. Check the node is running: `curl http://localhost:5270/api/v1/nodes`
    2. Verify the port: node may be on different port
    3. Wait a few seconds after node creation
  </Accordion>
  
  <Accordion title="Host key changed">
    Sim nodes are ephemeral, so host keys change:
    ```bash
    ssh-keygen -R "[localhost]:2222"
    ```
  </Accordion>
</AccordionGroup>
